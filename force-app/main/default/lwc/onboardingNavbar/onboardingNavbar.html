<template>
    <div class="navbar">
        <div class="logo">Elevoniq: Aufzugsregistrierung for KV-00000</div>
        <div class="navbar-right">
            <template if:true={hasUserData}>
                <div class="user-info" onclick={handleProfileClick}>
                    <div class="user-details">
                        <div class="user-name">{userData.name}</div>
                        <div class="company-name">{userData.companyName}</div>
                    </div>
                    <div class="profile-icon-container">
                        <lightning-icon 
                            icon-name="utility:user" 
                            size="small" 
                            class="profile-icon">
                        </lightning-icon>
                        <lightning-icon 
                            icon-name="utility:chevrondown" 
                            size="xx-small" 
                            class="dropdown-icon">
                        </lightning-icon>
                    </div>
                </div>
                <!-- Profile Dropdown -->
                <div if:true={isProfileMenuOpen} class="profile-dropdown">
                    <div class="dropdown-header">
                        <lightning-icon 
                            icon-name="utility:user" 
                            size="x-small" 
                            class="dropdown-item-icon">
                        </lightning-icon>
                        <div class="dropdown-user-info">
                            <div class="dropdown-user-name">{userData.name}</div>
                            <div class="dropdown-company-name">{userData.companyName}</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" onclick={handleSignOut}>
                        <lightning-icon 
                            icon-name="utility:logout" 
                            size="x-small" 
                            class="dropdown-item-icon">
                        </lightning-icon>
                        <span>Sign Out</span>
                    </div>
                </div>
            </template>
            <template if:false={hasUserData}>
                <button class="sign-in-button" onclick={handleSignIn}>
                    <span>Sign In</span>
                </button>
            </template>
        </div>
    </div>
</template> 